<!DOCTYPE html>
<html lang="en">
  

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,minimum-scale=1">

  <title>segregation</title>
  <meta name="description" content="Segregation Analysis, Inference, and Decomposition with PySAL">

  <link rel="canonical" href="http://0.0.0.0:4000/notebooks/explore/segregation/intro.html">
  <link rel="alternate" type="application/rss+xml" title="PySAL Notebooks" href="http://0.0.0.0:4000/notebooks/feed.xml">

  <meta property="og:url"         content="http://0.0.0.0:4000/notebooks/explore/segregation/intro.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="segregation" />
<meta property="og:description" content="Segregation Analysis, Inference, and Decomposition with PySAL" />
<meta property="og:image"       content="" />


  <script type="application/ld+json">
  {
  "@context": "http://schema.org",
  "@type": "NewsArticle",
  "mainEntityOfPage":
    "http://0.0.0.0:4000/notebooks/explore/segregation/intro.html",
  "headline":
    "segregation",
  "datePublished":
    "2019-07-22T16:47:05+00:00",
  "dateModified":
    "2019-07-22T16:47:05+00:00",
  "description":
    "Segregation Analysis, Inference, and Decomposition with PySAL",
  "author": {
    "@type": "Person",
    "name": "PySAL Developers"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Data 100 at UC Berkeley",
    "logo": {
      "@type": "ImageObject",
      "url": "http://0.0.0.0:4000/notebooks",
      "width": 60,
      "height": 60
    }
  },
  "image": {
    "@type": "ImageObject",
    "url": "http://0.0.0.0:4000/notebooks",
    "height": 60,
    "width": 60
  }
}

  </script>
  <link rel="stylesheet" href="/notebooks/assets/css/styles.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css ">
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">

  <!-- <link rel="manifest" href="/manifest.json"> -->
  <!-- <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#efae0a"> -->
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-TileImage" content="/mstile-144x144.png">
  <meta name="theme-color" content="#233947">

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="/notebooks/assets/images/pysal_favicon.ico">

  <!-- MathJax Config -->
  <!-- Allow inline math using $ and automatically break long math lines -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true,
        processEnvironments: true
    },
    CommonHTML: {
        linebreaks: {
            automatic: true,
        },
    },
});
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_CHTML' async></script>

  <!-- DOM updating function -->
  <script>
const runWhenDOMLoaded = cb => {
  if (document.readyState != 'loading') {
    cb()
  } else if (document.addEventListener) {
    document.addEventListener('DOMContentLoaded', cb)
  } else {
    document.attachEvent('onreadystatechange', function() {
      if (document.readyState == 'complete') cb()
    })
  }
}

// Helper function to init things quickly
initFunction = function(myfunc) {
  runWhenDOMLoaded(myfunc);
  document.addEventListener('turbolinks:load', myfunc);
};
</script>

  <!-- Define some javascript variables that will be useful in other javascript -->
  <script>
    const site_basename = '/notebooks';
  </script>

  <!-- Add AnchorJS to let headers be linked -->
  <script src="/notebooks/assets/js/anchor.min.js"  type="text/javascript"></script>
  <script>

initFunction(function () {
    anchors.add("main h1, main h2, main h3, main h4")
});

</script>

  <!-- Include Turbolinks to make page loads fast -->
  <!-- https://github.com/turbolinks/turbolinks -->
  <script src="/notebooks/assets/js/turbolinks.js" async></script>
  <meta name="turbolinks-cache-control" content="no-cache">

  <!-- Load nbinteract for widgets -->
  

  <!-- Load Thebelab for interactive widgets -->
  <!-- Include Thebelab for interactive code if it's enabled -->



  <!-- Load the auto-generating TOC -->
  <script src="/notebooks/assets/js/tocbot.min.js"  type="text/javascript"></script>
  <script>
var initToc = function () {
  tocbot.init({
    tocSelector: 'nav.onthispage',
    contentSelector: '.c-textbook__content',
    headingSelector: 'h2, h3',
    orderedList: false,
    collapseDepth: 6,
    listClass: 'toc__menu',
    activeListItemClass: "",  // Not using
    activeLinkClass: "", // Not using
  });
  tocbot.refresh();
}
initFunction(initToc);
</script>

  <!-- Google analytics -->
  <script src="/notebooks/assets/js/ga.js" async></script>

  <!-- Clipboard copy button -->
  <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" async></script>

  <!-- Load JS that depends on site variables -->
  <script>
/**
 * Set up copy/paste for code blocks
 */
const codeCellId = index => `codecell${index}`

const clipboardButton = id =>
  `<a id="copy-button-${id}" class="btn copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#${id}">
    <img src="/notebooks/assets/images/copy-button.svg" alt="Copy to clipboard">
  </a>`

// Clears selected text since ClipboardJS will select the text when copying
const clearSelection = () => {
  if (window.getSelection) {
    window.getSelection().removeAllRanges()
  } else if (document.selection) {
    document.selection.empty()
  }
}

// Changes tooltip text for two seconds, then changes it back
const temporarilyChangeTooltip = (el, newText) => {
  const oldText = el.getAttribute('data-tooltip')
  el.setAttribute('data-tooltip', newText)
  setTimeout(() => el.setAttribute('data-tooltip', oldText), 2000)
}

const addCopyButtonToCodeCells = () => {
  // If ClipboardJS hasn't loaded, wait a bit and try again. This
  // happens because we load ClipboardJS asynchronously.
  if (window.ClipboardJS === undefined) {
    setTimeout(addCopyButtonToCodeCells, 250)
    return
  }

  const codeCells = document.querySelectorAll('div.c-textbook__content > div.highlighter-rouge > div.highlight > pre, div.input_area pre')
  codeCells.forEach((codeCell, index) => {
    const id = codeCellId(index)
    codeCell.setAttribute('id', id)
    if (document.getElementById("copy-button" + id) == null) {
      codeCell.insertAdjacentHTML('afterend', clipboardButton(id));
    }
  })

  const clipboard = new ClipboardJS('.copybtn')
  clipboard.on('success', event => {
    clearSelection()
    temporarilyChangeTooltip(event.trigger, 'Copied!')
  })

  clipboard.on('error', event => {
    temporarilyChangeTooltip(event.trigger, 'Failed to copy')
  })

  // Get rid of clipboard before the next page visit to avoid memory leak
  document.addEventListener('turbolinks:before-visit', () =>
    clipboard.destroy()
  )
}

initFunction(addCopyButtonToCodeCells);
</script>


  <!-- Hide cell code -->
  <script>
    /**
    Add buttons to hide code cells
    */


    var setCodeCellVisibility = function (inputField, kind) {
        // Update the image and class for hidden
        var id = inputField.getAttribute('data-id');
        var codeCell = document.querySelector(`#${id} div.highlight`);

        if (kind === "visible") {
            codeCell.classList.remove('hidden');
            inputField.checked = true;
        } else {
            codeCell.classList.add('hidden');
            inputField.checked = false;
        }
    }

    var toggleCodeCellVisibility = function (event) {
        // The label is clicked, and now we decide what to do based on the input field's clicked status
        if (event.target.tagName === "LABEL") {
            var inputField = event.target.previousElementSibling;
        } else {
            // It is the span inside the target
            var inputField = event.target.parentElement.previousElementSibling;
        }

        if (inputField.checked === true) {
            setCodeCellVisibility(inputField, "visible");
        } else {
            setCodeCellVisibility(inputField, "hidden");
        }
    }


    // Button constructor
    const hideCodeButton = id => `<input class="hidebtn" type="checkbox" id="hidebtn${id}" data-id="${id}"><label title="Toggle cell" for="hidebtn${id}" class="plusminus"><span class="pm_h"></span><span class="pm_v"></span></label>`

    var addHideButton = function () {
        // If a hide button is already added, don't add another
        if (document.querySelector('div.hidecode input') !== null) {
            return;
        }

        // Find the input cells and add a hide button
        document.querySelectorAll('div.input_area').forEach(function (item, index) {
            if (!item.classList.contains("hidecode")) {
                // Skip the cell if it doesn't have a hidecode class
                return;
            }

            const id = codeCellId(index)
            item.setAttribute('id', id);
            // Insert the button just inside the end of the next div
            item.querySelector('div').insertAdjacentHTML('beforeend', hideCodeButton(id))

            // Set up the visibility toggle
            hideLink = document.querySelector(`#${id} div.highlight + input + label`);
            hideLink.addEventListener('click', toggleCodeCellVisibility)
        });
    }


    // Initialize the hide buttos
    var initHiddenCells = function () {
        // Add hide buttons to the cells
        addHideButton();

        // Toggle the code cells that should be hidden
        document.querySelectorAll('div.hidecode input').forEach(function (item) {
            setCodeCellVisibility(item, 'hidden');
            item.checked = true;
        })
    }

    initFunction(initHiddenCells);

</script>

  <!-- Load custom website scripts -->
  <script src="/notebooks/assets/js/scripts.js" async></script>

  <!-- Load custom user CSS and JS  -->
  <script src="/notebooks/assets/custom/custom.js" async></script>
  <link rel="stylesheet" href="/notebooks/assets/custom/custom.css">

  <!-- Update interact links w/ REST param, is defined in includes so we can use templates -->
  
<script>
/**
  * To auto-embed hub URLs in interact links if given in a RESTful fashion
 */

function getJsonFromUrl(url) {
  var query = url.split('?');
  if (query.length < 2) {
    // No queries so just return false
    return false;
  }
  query = query[1];
  // Collect REST params into a dictionary
  var result = {};
  query.split("&").forEach(function(part) {
    var item = part.split("=");
    result[item[0]] = decodeURIComponent(item[1]);
  });
  return result;
}
    
function dict2param(dict) {
    params = Object.keys(dict).map(function(k) {
        return encodeURIComponent(k) + '=' + encodeURIComponent(dict[k])
    });
    return params.join('&')
}

// Parse a Binder URL, converting it to the string needed for JupyterHub
function binder2Jupyterhub(url) {
  newUrl = {};
  parts = url.split('v2/gh/')[1];
  // Grab the base repo information
  repoinfo = parts.split('?')[0];
  var [org, repo, ref] = repoinfo.split('/');
  newUrl['repo'] = ['https://github.com', org, repo].join('/');
  newUrl['branch'] = ref
  // Grab extra parameters passed
  params = getJsonFromUrl(url);
  if (params['filepath'] !== undefined) {
    newUrl['subPath'] = params['filepath']
  }
  return dict2param(newUrl);
}

// Filter out potentially unsafe characters to prevent xss
function safeUrl(url)
{
   return String(encodeURIComponent(url))
            .replace(/&/g, '&amp;')
            .replace(/"/g, '&quot;')
            .replace(/'/g, '&#39;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;');
}

function addParamToInternalLinks(hub) {
  var links = document.querySelectorAll("a").forEach(function(link) {
    var href = link.href;
    // If the link is an internal link...
    if (href.search("http://0.0.0.0:4000") !== -1 || href.startsWith('/') || href.search("127.0.0.1:") !== -1) {
      // Assume we're an internal link, add the hub param to it
      var params = getJsonFromUrl(href);
      if (params !== false) {
        // We have REST params, so append a new one
        params['jupyterhub'] = hub;
      } else {
        // Create the REST params
        params = {'jupyterhub': hub};
      }
      // Update the link
      var newHref = href.split('?')[0] + '?' + dict2param(params);
      link.setAttribute('href', decodeURIComponent(newHref));
    }
  });
  return false;
}


// Update interact links
function updateInteractLink() {
    // hack to make this work since it expects a ? in the URL
    rest = getJsonFromUrl("?" + location.search.substr(1));
    jupyterHubUrl = rest['jupyterhub'];
    var hubType = null;
    var hubUrl = null;
    if (jupyterHubUrl !== undefined) {
      hubType = 'jupyterhub';
      hubUrl = jupyterHubUrl;
    }

    if (hubType !== null) {
      // Sanitize the hubUrl
      hubUrl = safeUrl(hubUrl);

      // Add HTTP text if omitted
      if (hubUrl.indexOf('http') < 0) {hubUrl = 'http://' + hubUrl;}
      var interactButtons = document.querySelectorAll("button.interact-button")
      var lastButton = interactButtons[interactButtons.length-1];
      var link = lastButton.parentElement;

      // If we've already run this, skip the link updating
      if (link.nextElementSibling !== null) {
        return;
      }

      // Update the link and add context div
      var href = link.getAttribute('href');
      if (lastButton.id === 'interact-button-binder') {
        // If binder links exist, we need to re-work them for jupyterhub
        if (hubUrl.indexOf('http%3A%2F%2Flocalhost') > -1) {
          // If localhost, assume we're working from a local Jupyter server and remove `/hub`
          first = [hubUrl, 'git-sync'].join('/')
        } else {
          first = [hubUrl, 'hub', 'user-redirect', 'git-sync'].join('/')
        }
        href = first + '?' + binder2Jupyterhub(href);
      } else {
        // If interact button isn't binderhub, assume it's jupyterhub
        // If JupyterHub links, we only need to replace the hub url
        href = href.replace("", hubUrl);
        if (hubUrl.indexOf('http%3A%2F%2Flocalhost') > -1) {
          // Assume we're working from a local Jupyter server and remove `/hub`
          href = href.replace("/hub/user-redirect", "");
        }
      }
      link.setAttribute('href', decodeURIComponent(href));

      // Add text after interact link saying where we're launching
      hubUrlNoHttp = decodeURIComponent(hubUrl).replace('http://', '').replace('https://', '');
      link.insertAdjacentHTML('afterend', '<div class="interact-context">on ' + hubUrlNoHttp + '</div>');

      // Update internal links so we retain the hub url
      addParamToInternalLinks(hubUrl);
    }
}

runWhenDOMLoaded(updateInteractLink)
document.addEventListener('turbolinks:load', updateInteractLink)
</script>


  <!-- Lunr search code - will only be executed on the /search page -->
  <script src="/notebooks/assets/js/lunr/lunr.min.js" type="text/javascript"></script>
  <script>var initQuery = function() {
  // See if we have a search box
  var searchInput = document.querySelector('input#lunr_search');
  if (searchInput === null) {
    return;
  }

  // Function to parse our lunr cache
  var idx = lunr(function () {
    this.field('title')
    this.field('excerpt')
    this.field('categories')
    this.field('tags')
    this.ref('id')

    this.pipeline.remove(lunr.trimmer)

    for (var item in store) {
      this.add({
        title: store[item].title,
        excerpt: store[item].excerpt,
        categories: store[item].categories,
        tags: store[item].tags,
        id: item
      })
    }
  });

  // Run search upon keyup
  searchInput.addEventListener('keyup', function () {
    var resultdiv = document.querySelector('#results');
    var query = document.querySelector("input#lunr_search").value.toLowerCase();
    var result =
      idx.query(function (q) {
        query.split(lunr.tokenizer.separator).forEach(function (term) {
          q.term(term, { boost: 100 })
          if(query.lastIndexOf(" ") != query.length-1){
            q.term(term, {  usePipeline: false, wildcard: lunr.Query.wildcard.TRAILING, boost: 10 })
          }
          if (term != ""){
            q.term(term, {  usePipeline: false, editDistance: 1, boost: 1 })
          }
        })
      });

      // Empty the results div
      while (resultdiv.firstChild) {
        resultdiv.removeChild(resultdiv.firstChild);
      }

    resultdiv.insertAdjacentHTML('afterbegin', '<p class="results__found">'+result.length+' Result(s) found</p>');
    for (var item in result) {
      var ref = result[item].ref;
      if(store[ref].teaser){
        var searchitem =
          '<div class="list__item">'+
            '<article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">'+
              '<h2 class="archive__item-title" itemprop="headline">'+
                '<a href="'+store[ref].url+'" rel="permalink">'+store[ref].title+'</a>'+
              '</h2>'+
              '<div class="archive__item-teaser">'+
                '<img src="'+store[ref].teaser+'" alt="">'+
              '</div>'+
              '<p class="archive__item-excerpt" itemprop="description">'+store[ref].excerpt.split(" ").splice(0,20).join(" ")+'...</p>'+
            '</article>'+
          '</div>';
      }
      else{
    	  var searchitem =
          '<div class="list__item">'+
            '<article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">'+
              '<h2 class="archive__item-title" itemprop="headline">'+
                '<a href="'+store[ref].url+'" rel="permalink">'+store[ref].title+'</a>'+
              '</h2>'+
              '<p class="archive__item-excerpt" itemprop="description">'+store[ref].excerpt.split(" ").splice(0,20).join(" ")+'...</p>'+
            '</article>'+
          '</div>';
      }
      resultdiv.insertAdjacentHTML('beforeend', searchitem);
    }
  });
};

initFunction(initQuery);
</script>
</head>

  <body>
    <!-- .js-show-sidebar shows sidebar by default -->
    <div id="js-textbook" class="c-textbook js-show-sidebar">
      



<nav id="js-sidebar" class="c-textbook__sidebar">
  <a href="https://pysal.org/notebooks/"><img src="/notebooks/assets/images/logo.png" class="textbook_logo" id="sidebar-logo" data-turbolinks-permanent/></a>
  <h2 class="c-sidebar__title">PySAL Notebooks</h2>
  <ul class="c-sidebar__chapters">
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry c-sidebar__entry--active"
          href="/notebooks/intro.html"
        >
          
          Home
        </a>

        
      </li>

      
    
      
      
        <li class="c-sidebar__divider"></li>
        
      
      
        <li><h2 class="c-sidebar__title">Explore</li>
        
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/notebooks/explore/esda/intro.html"
        >
          
          esda
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections u-hidden-visually">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/esda/Spatial_Autocorrelation_for_Areal_Unit_Data.html"
                >
                  
                  Spatial_Autocorrelation_for_Areal_Unit_Data
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/notebooks/explore/giddy/intro.html"
        >
          
          giddy
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections u-hidden-visually">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/giddy/Rank_based_Methods.html"
                >
                  
                  Rank_based_Methods
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/giddy/directional.html"
                >
                  
                  directional
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/giddy/Rank_Markov.html"
                >
                  
                  Rank_Markov
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/giddy/Mobility_measures.html"
                >
                  
                  Mobility_measures
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/giddy/Markov_Based_Methods.html"
                >
                  
                  Markov_Based_Methods
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/notebooks/explore/pointpats/intro.html"
        >
          
          pointpats
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections u-hidden-visually">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/pointpats/distance_statistics.html"
                >
                  
                  distance_statistics
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/pointpats/centrography.html"
                >
                  
                  centrography
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/pointpats/Minimum_bounding_circle.html"
                >
                  
                  Minimum_bounding_circle
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/pointpats/Quadrat_statistics.html"
                >
                  
                  Quadrat_statistics
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/pointpats/window.html"
                >
                  
                  window
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/pointpats/marks.html"
                >
                  
                  marks
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/pointpats/pointpattern.html"
                >
                  
                  pointpattern
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/pointpats/process.html"
                >
                  
                  process
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/notebooks/explore/spaghetti/intro.html"
        >
          
          spaghetti
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections u-hidden-visually">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/spaghetti/Spaghetti_Pointpatterns_Empirical.html"
                >
                  
                  Spaghetti_Pointpatterns_Empirical
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/spaghetti/Facility_Location.html"
                >
                  
                  Facility_Location
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/spaghetti/Snapping_Demonstration.html"
                >
                  
                  Snapping_Demonstration
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/spaghetti/Network_Usage.html"
                >
                  
                  Network_Usage
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry c-sidebar__entry--active"
          href="/notebooks/explore/segregation/intro.html"
        >
          
          segregation
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections ">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/segregation/profile_wrappers_example.html"
                >
                  
                  profile_wrappers_example
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/segregation/decomposition_wrapper_example.html"
                >
                  
                  decomposition_wrapper_example
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/segregation/inference_wrappers_example.html"
                >
                  
                  inference_wrappers_example
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/segregation/nonspatial_examples.html"
                >
                  
                  nonspatial_examples
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/segregation/spatial_examples.html"
                >
                  
                  spatial_examples
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/notebooks/explore/inequality/intro.html"
        >
          
          inequality
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections u-hidden-visually">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/explore/inequality/gini.html"
                >
                  
                  gini
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      
        <li class="c-sidebar__divider"></li>
        
      
      
        <li><h2 class="c-sidebar__title">Viz</li>
        
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/notebooks/viz/mapclassify/intro.html"
        >
          
          mapclassify
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections u-hidden-visually">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/viz/mapclassify/plot.html"
                >
                  
                  plot
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/viz/mapclassify/deprecate.html"
                >
                  
                  deprecate
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/viz/mapclassify/south.html"
                >
                  
                  south
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/viz/mapclassify/maximum_breaks.html"
                >
                  
                  maximum_breaks
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/notebooks/viz/splot/intro.html"
        >
          
          splot
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections u-hidden-visually">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/viz/splot/esda_moran_matrix_viz.html"
                >
                  
                  esda_moran_matrix_viz
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/viz/splot/libpysal_non_planar_joins_viz.html"
                >
                  
                  libpysal_non_planar_joins_viz
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/viz/splot/esda_morans_viz.html"
                >
                  
                  esda_morans_viz
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/viz/splot/giddy_space_time.html"
                >
                  
                  giddy_space_time
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/viz/splot/mapping_vba.html"
                >
                  
                  mapping_vba
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      
        <li class="c-sidebar__divider"></li>
        
      
      
        <li><h2 class="c-sidebar__title">Model</li>
        
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/notebooks/model/spvcm/intro.html"
        >
          
          spvcm
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections u-hidden-visually">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spvcm/spatially-varying-coefficients.html"
                >
                  
                  spatially-varying-coefficients
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spvcm/using_the_sampler.html"
                >
                  
                  using_the_sampler
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/notebooks/model/spint/intro.html"
        >
          
          spint
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections u-hidden-visually">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spint/sparse_vs_dense_grav.html"
                >
                  
                  sparse_vs_dense_grav
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spint/Example_NYCBikes_AllFeatures.html"
                >
                  
                  Example_NYCBikes_AllFeatures
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spint/New_DistanceBand.html"
                >
                  
                  New_DistanceBand
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spint/sparse_scipy_optim.html"
                >
                  
                  sparse_scipy_optim
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spint/local_SI.html"
                >
                  
                  local_SI
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spint/validate_gravity.html"
                >
                  
                  validate_gravity
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spint/dispersion_test.html"
                >
                  
                  dispersion_test
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spint/netW.html"
                >
                  
                  netW
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spint/sparse_categorical.html"
                >
                  
                  sparse_categorical
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spint/test_grav.html"
                >
                  
                  test_grav
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spint/sparse_grav.html"
                >
                  
                  sparse_grav
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spint/sparse_categorical_bottleneck.html"
                >
                  
                  sparse_categorical_bottleneck
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spint/OD_weights.html"
                >
                  
                  OD_weights
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spint/sparse_categorical_speed.html"
                >
                  
                  sparse_categorical_speed
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spint/ODW_example.html"
                >
                  
                  ODW_example
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spint/autograd_test.html"
                >
                  
                  autograd_test
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spint/NYC_Bike_Example.html"
                >
                  
                  NYC_Bike_Example
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spint/4d_distance.html"
                >
                  
                  4d_distance
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/notebooks/model/spglm/intro.html"
        >
          
          spglm
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections u-hidden-visually">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spglm/Poisson_GLM.html"
                >
                  
                  Poisson_GLM
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spglm/Gaussian_GLM.html"
                >
                  
                  Gaussian_GLM
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/spglm/Binomial_GLM.html"
                >
                  
                  Binomial_GLM
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/notebooks/model/mgwr/intro.html"
        >
          
          mgwr
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections u-hidden-visually">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/mgwr/GWR_Georgia_example.html"
                >
                  
                  GWR_Georgia_example
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/mgwr/GWR_prediction_example.html"
                >
                  
                  GWR_prediction_example
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/mgwr/GWR_MGWR_example.html"
                >
                  
                  GWR_MGWR_example
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/model/mgwr/MGWR_Georgia_example.html"
                >
                  
                  MGWR_Georgia_example
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      
        <li class="c-sidebar__divider"></li>
        
      
      
        <li><h2 class="c-sidebar__title">Lib</li>
        
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/notebooks/lib/libpysal/intro.html"
        >
          
          libpysal
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections u-hidden-visually">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/lib/libpysal/io.html"
                >
                  
                  io
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/lib/libpysal/weights.html"
                >
                  
                  weights
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/notebooks/lib/libpysal/voronoi.html"
                >
                  
                  voronoi
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
  </ul>
  <p class="sidebar_footer">Powered by <a href="https://github.com/jupyter/jupyter-book">Jupyter Book</a></p>
</nav>

      
      <!-- Empty sidebar placeholder that we'll auto-fill with javascript -->
      <aside class="sidebar__right">
          <header><h4 class="nav__title"><i class="fa fa-list"></i>   On this page</h4></header>
          <nav class="onthispage">
          </nav>
      </aside>
      
      <main class="c-textbook__page" tabindex="-1">
          <div class="o-wrapper">
            <div class="c-sidebar-toggle">
  <!-- We show the sidebar by default so we use .is-active -->
  <button
    id="js-sidebar-toggle"
    class="hamburger hamburger--arrowalt is-active"
  >
    <span class="hamburger-box">
      <span class="hamburger-inner"></span>
    </span>
    <span class="c-sidebar-toggle__label">Toggle Sidebar</span>
  </button>
</div>

            

            <div class="c-textbook__content">
              <h1 id="segregation-analysis-inference-and-decomposition-with-pysal">Segregation Analysis, Inference, and Decomposition with PySAL</h1>

<p><a href="https://travis-ci.org/pysal/segregation"><img src="https://travis-ci.com/pysal/segregation.svg?branch=master" alt="Build Status" /></a>
<a href="https://coveralls.io/github/pysal/segregation?branch=master&amp;service=github&amp;kill_cache=1"><img src="https://coveralls.io/repos/github/pysal/segregation/badge.svg?branch=master" alt="Coverage Status" /></a> <a href="https://zenodo.org/badge/latestdoi/162503796"><img src="https://zenodo.org/badge/162503796.svg" alt="DOI" /></a></p>

<p><img src="doc/_static/images/heatmaps.png" alt="" /></p>

<p>The PySAL <strong>segregation</strong> package is a tool for analyzing patterns of urban segregation.
With only a few lines of code, <strong>segregation</strong> users can</p>

<p>Calculate over 40 segregation measures from simple to state-of-the art, including:</p>

<ul>
  <li><a href="https://github.com/pysal/segregation/blob/master/notebooks/aspatial_examples.ipynb">aspatial segregation indices</a></li>
  <li>spatial segregation indices
    <ul>
      <li><a href="https://github.com/pysal/segregation/blob/master/notebooks/spatial_examples.ipynb">using spatial weights matrices, euclidian distances, or topological relationships</a></li>
      <li><a href="https://github.com/pysal/segregation/blob/master/notebooks/network_measures.ipynb">using street network distances</a></li>
      <li><a href="https://github.com/pysal/segregation/blob/master/notebooks/multiscalar_segregation_profiles.ipynb">using multiscalar definitions</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/pysal/segregation/blob/master/notebooks/local_measures_example.ipynb">local segregation indices</a></li>
</ul>

<p>Test whether segregation estimates are statistically significant:</p>

<ul>
  <li><a href="https://github.com/pysal/segregation/blob/master/notebooks/inference_wrappers_example.ipynb">single value inference</a></li>
  <li><a href="https://github.com/pysal/segregation/blob/master/notebooks/inference_wrappers_example.ipynb">comparative inference</a></li>
</ul>

<p><a href="https://github.com/pysal/segregation/blob/master/notebooks/decomposition_wrapper_example.ipynb">Decompose</a>
segregation comparisons into</p>

<ul>
  <li>differences arising from spatial structure</li>
  <li>differences arising from demographic structure</li>
</ul>

<h2 id="installation">Installation</h2>

<p>Released versions of segregation are available on pip and anaconda</p>

<p>pip:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install segregation
</code></pre></div></div>

<p><a href="https://www.anaconda.com/download/">anaconda</a>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda install <span class="nt">-c</span> conda-forge segregation
</code></pre></div></div>

<p>You can also install the current development version from this repository</p>

<p>download <a href="https://www.anaconda.com/download/">anaconda</a>:</p>

<p><code class="highlighter-rouge">cd</code> into the directory and run the following commands</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda env create <span class="nt">-f</span> environment.yml
conda activate segregation
python setup.py develop
</code></pre></div></div>

<h2 id="getting-started">Getting started</h2>

<p>For a complete guide to the <code class="highlighter-rouge">segregation</code> API, see the online
<a href="http://segregation.readthedocs.io">documentation</a>.</p>

<p>For code walkthroughs and sample analyses, see the
<a href="https://github.com/pysal/segregation/tree/master/notebooks">example notebooks</a></p>

<h2 id="calculating-segregation-measures">Calculating Segregation Measures</h2>

<p>Each index in the <strong>segregation</strong> module is implemented as a class, which is built from a <code class="highlighter-rouge">pandas.DataFrame</code>
or a <code class="highlighter-rouge">geopandas.GeoDataFrame</code>. To estimate a segregation statistic, a user needs to call the segregation class
she wishes to estimate, and pass three arguments:</p>

<ul>
  <li>the DataFrame containing population data</li>
  <li>the name of the column with population counts for the group of interest</li>
  <li>the name of the column with the total population for each enumeration unit</li>
</ul>

<p>Every class in <strong>segregation</strong> has a <code class="highlighter-rouge">statistic</code> and a <code class="highlighter-rouge">core_data</code> attributes.
The first is a direct access to the point estimation of the specific segregation measure
and the second attribute gives access to the main data that the module uses internally to
perform the estimates.
To see the estimated D in the first generic example above, the user would have just to run
<code class="highlighter-rouge">index.statistic</code> to see the fitted value.</p>

<h3 id="single-group-measures">Single group measures</h3>

<p>If, for example, a user was studying income segregation and wanted to know whether
high-income residents tend to be more segregated from others.
This user may want would want to fit a dissimilarity index (D) to a DataFrame called <code class="highlighter-rouge">df</code> to
a specific group with columns like <code class="highlighter-rouge">"hi_income"</code>, <code class="highlighter-rouge">"med_income"</code> and <code class="highlighter-rouge">"low_income"</code> that store counts of people in each income
bracket, and a total column called <code class="highlighter-rouge">"total_population"</code></p>

<p>a typical call would be something like this:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">segregation.aspatial</span> <span class="kn">import</span> <span class="n">Dissim</span>
<span class="n">d_index</span> <span class="o">=</span> <span class="n">Dissim</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s">"hi_income"</span><span class="p">,</span> <span class="s">"total_population"</span><span class="p">)</span>
</code></pre></div></div>

<p>If a user would want to fit a <em>spatial</em> dissimilarity index (SD), the call would be nearly
identical, save for the fact that the <code class="highlighter-rouge">DataFrame</code> now needs to be a <code class="highlighter-rouge">GeoDataFrame</code> with an appropriate <code class="highlighter-rouge">geometry</code> column</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">segregation.spatial</span> <span class="kn">import</span> <span class="n">SpatialDissim</span>
<span class="n">spatial_index</span> <span class="o">=</span> <span class="n">SpatialDissim</span><span class="p">(</span><span class="n">gdf</span><span class="p">,</span> <span class="s">"hi_income"</span><span class="p">,</span> <span class="s">"total_population"</span><span class="p">)</span>
</code></pre></div></div>

<p>Some spatial indices can also accept either a <a href="http://pysal.org">PySAL</a> <code class="highlighter-rouge">W</code> object, or a <a href="https://github.com/UDST/pandana">pandana</a> <code class="highlighter-rouge">Network</code> object,
which allows the user full control over how to parameterize spatial effects.
The network functions can be particularly useful for teasing out differences in
segregation measures caused by two cities that have two very different spatial structures,
like for example Detroit MI (left) and Monroe LA (right):</p>

<p><img src="doc/_static/images/networks.png" alt="" /></p>

<p>For point estimation, all single-group indices available are summarized in the following
table:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"><strong>Measure</strong></th>
      <th style="text-align: left"><strong>Class/Function</strong></th>
      <th style="text-align: center"><strong>Spatial?</strong></th>
      <th style="text-align: center"><strong>Specific Arguments</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Dissimilarity (D)</td>
      <td style="text-align: left">Dissim</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Gini (G)</td>
      <td style="text-align: left">GiniSeg</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Entropy (H)</td>
      <td style="text-align: left">Entropy</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Isolation (xPx)</td>
      <td style="text-align: left">Isolation</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Exposure (xPy)</td>
      <td style="text-align: left">Exposure</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Atkinson (A)</td>
      <td style="text-align: left">Atkinson</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">b</td>
    </tr>
    <tr>
      <td style="text-align: left">Correlation Ratio (V)</td>
      <td style="text-align: left">CorrelationR</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Concentration Profile (R)</td>
      <td style="text-align: left">ConProf</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">m</td>
    </tr>
    <tr>
      <td style="text-align: left">Modified Dissimilarity (Dct)</td>
      <td style="text-align: left">ModifiedDissim</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">iterations</td>
    </tr>
    <tr>
      <td style="text-align: left">Modified Gini (Gct)</td>
      <td style="text-align: left">ModifiedGiniSeg</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">iterations</td>
    </tr>
    <tr>
      <td style="text-align: left">Bias-Corrected Dissimilarity (Dbc)</td>
      <td style="text-align: left">BiasCorrectedDissim</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">B</td>
    </tr>
    <tr>
      <td style="text-align: left">Density-Corrected Dissimilarity (Ddc)</td>
      <td style="text-align: left">DensityCorrectedDissim</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">xtol</td>
    </tr>
    <tr>
      <td style="text-align: left">Spatial Proximity Profile (SPP)</td>
      <td style="text-align: left">SpatialProxProf</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">m</td>
    </tr>
    <tr>
      <td style="text-align: left">Spatial Dissimilarity (SD)</td>
      <td style="text-align: left">SpatialDissim</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">w, standardize</td>
    </tr>
    <tr>
      <td style="text-align: left">Boundary Spatial Dissimilarity (BSD)</td>
      <td style="text-align: left">BoundarySpatialDissim</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">standardize</td>
    </tr>
    <tr>
      <td style="text-align: left">Perimeter Area Ratio Spatial Dissimilarity (PARD)</td>
      <td style="text-align: left">PerimeterAreaRatioSpatialDissim</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">standardize</td>
    </tr>
    <tr>
      <td style="text-align: left">Distance Decay Isolation (DDxPx)</td>
      <td style="text-align: left">DistanceDecayIsolation</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">alpha, beta, metric</td>
    </tr>
    <tr>
      <td style="text-align: left">Distance Decay Exposure (DDxPy)</td>
      <td style="text-align: left">DistanceDecayExposure</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">alpha, beta, metric</td>
    </tr>
    <tr>
      <td style="text-align: left">Spatial Proximity (SP)</td>
      <td style="text-align: left">SpatialProximity</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">alpha, beta, metric</td>
    </tr>
    <tr>
      <td style="text-align: left">Absolute Clustering (ACL)</td>
      <td style="text-align: left">AbsoluteClustering</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">alpha, beta, metric</td>
    </tr>
    <tr>
      <td style="text-align: left">Relative Clustering (RCL)</td>
      <td style="text-align: left">RelativeClustering</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">alpha, beta, metric</td>
    </tr>
    <tr>
      <td style="text-align: left">Delta (DEL)</td>
      <td style="text-align: left">Delta</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Absolute Concentration (ACO)</td>
      <td style="text-align: left">AbsoluteConcentration</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Relative Concentration (RCO)</td>
      <td style="text-align: left">RelativeConcentration</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Absolute Centralization (ACE)</td>
      <td style="text-align: left">AbsoluteCentralization</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Relative Centralization (RCE)</td>
      <td style="text-align: left">RelativeCentralization</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">-</td>
    </tr>
  </tbody>
</table>

<h3 id="multigroup-measures">Multigroup measures</h3>

<p><strong>segregation</strong> also facilitates the estimation of multigroup segregation measures.</p>

<p>In this case, the call is nearly identical to the single-group, only now we pass a list of
column names rather than a single string;
reprising the income segregation example above, an example call might look like this</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">segregation.aspatial</span> <span class="kn">import</span> <span class="n">MultiDissim</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">MultiDissim</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="p">[</span><span class="s">'hi_income'</span><span class="p">,</span> <span class="s">'med_income'</span><span class="p">,</span> <span class="s">'low_income'</span><span class="p">])</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">index</span><span class="o">.</span><span class="n">statistic</span>
</code></pre></div></div>

<p>Available multi-group indices are summarized in the table below:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"><strong>Measure</strong></th>
      <th style="text-align: left"><strong>Class/Function</strong></th>
      <th style="text-align: center"><strong>Spatial?</strong></th>
      <th style="text-align: center"><strong>Specific Arguments</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Multigroup Dissimilarity</td>
      <td style="text-align: left">MultiDissim</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Multigroup Gini</td>
      <td style="text-align: left">MultiGiniSeg</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Multigroup Normalized Exposure</td>
      <td style="text-align: left">MultiNormalizedExposure</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Multigroup Information Theory</td>
      <td style="text-align: left">MultiInformationTheory</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Multigroup Relative Diversity</td>
      <td style="text-align: left">MultiRelativeDiversity</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Multigroup Squared Coefficient of Variation</td>
      <td style="text-align: left">MultiSquaredCoefficientVariation</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Multigroup Diversity</td>
      <td style="text-align: left">MultiDiversity</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">normalized</td>
    </tr>
    <tr>
      <td style="text-align: left">Simpsons Concentration</td>
      <td style="text-align: left">SimpsonsConcentration</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Simpsons Interaction</td>
      <td style="text-align: left">SimpsonsInteraction</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Multigroup Divergence</td>
      <td style="text-align: left">MultiDivergence</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
  </tbody>
</table>

<h3 id="local-measures">Local measures</h3>

<p>Also, it is possible to calculate local measures of segregation.
A <code class="highlighter-rouge">statistics</code> attribute will contain the values of these indexes. <strong>Note:
in this case the attribute is in the plural since, many statistics are fitted, one for
each enumeration unit</strong> Local segregation indices have the same signature as their global
cousins and are summarized in the table below:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"><strong>Measure</strong></th>
      <th style="text-align: left"><strong>Class/Function</strong></th>
      <th style="text-align: center"><strong>Spatial?</strong></th>
      <th style="text-align: center"><strong>Specific Arguments</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Location Quotient</td>
      <td style="text-align: left">MultiLocationQuotient</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Local Diversity</td>
      <td style="text-align: left">MultiLocalDiversity</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Local Entropy</td>
      <td style="text-align: left">MultiLocalEntropy</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Local Simpsons Concentration</td>
      <td style="text-align: left">MultiLocalSimpsonConcentration</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Local Simpsons Interaction</td>
      <td style="text-align: left">MultiLocalSimpsonInteraction</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: left">Local Centralization</td>
      <td style="text-align: left">LocalRelativeCentralization</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">-</td>
    </tr>
  </tbody>
</table>

<h2 id="testing-for-statistical-significance">Testing for Statistical Significance</h2>

<p>Once the segregation indexes are fitted, the user can perform inference to shed light for
statistical significance in regional analysis.
The summary of the inference framework is presented in the table below:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"><strong>Inference Type</strong></th>
      <th style="text-align: left"><strong>Class/Function</strong></th>
      <th style="text-align: center"><strong>Function main Inputs</strong></th>
      <th style="text-align: center"><strong>Function Outputs</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Single Value</td>
      <td style="text-align: left">SingleValueTest</td>
      <td style="text-align: center">seg_class, iterations_under_null, null_approach, two_tailed</td>
      <td style="text-align: center">p_value, est_sim, statistic</td>
    </tr>
    <tr>
      <td style="text-align: left">Two Values</td>
      <td style="text-align: left">TwoValueTest</td>
      <td style="text-align: center">seg_class_1, seg_class_2, iterations_under_null, null_approach</td>
      <td style="text-align: center">p_value, est_sim, est_point_diff</td>
    </tr>
  </tbody>
</table>

<h3 id="single-value-inference"><a href="https://github.com/pysal/segregation/blob/master/notebooks/inference_wrappers_example.ipynb">Single Value Inference</a></h3>

<p><img src="doc/_static/images/singleval_inference.png" alt="" /></p>

<h3 id="two-value-inference"><a href="https://github.com/pysal/segregation/blob/master/notebooks/inference_wrappers_example.ipynb">Two-Value Inference</a></h3>

<p><img src="doc/_static/images/twoval_inference.png" alt="" /></p>

<h3 id="decomposition"><a href="https://github.com/pysal/segregation/blob/master/notebooks/decomposition_wrapper_example.ipynb">Decomposition</a></h3>

<p>Another useful analysis that can be performed with the <strong>segregation</strong> module is a
decompositional approach where two different indexes can be broken down into their spatial
component (<code class="highlighter-rouge">c_s</code>) and attribute component (<code class="highlighter-rouge">c_a</code>). This framework is summarized in the table
below:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"><strong>Framework</strong></th>
      <th style="text-align: left"><strong>Class/Function</strong></th>
      <th style="text-align: center"><strong>Function main Inputs</strong></th>
      <th style="text-align: center"><strong>Function Outputs</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Decomposition</td>
      <td style="text-align: left">DecomposeSegregation</td>
      <td style="text-align: center">index1, index2, counterfactual_approach</td>
      <td style="text-align: center">c_a, c_s</td>
    </tr>
  </tbody>
</table>

<p><img src="doc/_static/images/decomp_example.png" alt="" /></p>

<p>In this case, the difference in measured D statistics between Detroit and Monroe is
attributable primarily to their demographic makeup, rather than the spatial structure of
the two cities.
(Note, this is to be expected since <em>D</em> is not a spatial index)</p>

<h2 id="contributing">Contributing</h2>

<p>PySAL-segregation is under active development and contributors are welcome.</p>

<p>If you have any suggestion, feature request, or bug report, please open a new
<a href="https://github.com/pysal/segregation/issues">issue</a> on GitHub.
To submit patches, please follow the PySAL development
<a href="http://pysal.readthedocs.io/en/latest/developers/index.html">guidelines</a> and open a
<a href="https://github.com/pysal/segregation">pull request</a>. Once your changes get merged, youll
automatically be added to the
<a href="https://github.com/pysal/segregation/graphs/contributors">Contributors List</a>.</p>

<h2 id="support">Support</h2>

<p>If you are having issues, please talk to us in the
<a href="https://gitter.im/pysal/pysal">gitter room</a>.</p>

<h2 id="license">License</h2>

<p>The project is licensed under the
<a href="https://github.com/pysal/pysal/blob/master/LICENSE.txt">BSD license</a>.</p>

<h2 id="funding">Funding</h2>

<p><img src="figs/nsf_logo.jpg" width="50" /> Award #1831615
<a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=1831615">RIDIR: Scalable Geospatial Analytics for Social Science Research</a></p>

<p><img src="figs/capes_logo.jpg" width="50" /> Renan Xavier Cortes is grateful for the support of Coordenao de Aperfeioamento de
Pessoal de Nvel Superior - Brazil (CAPES) - Process number 88881.170553/2018-01</p>

              <nav class="c-page__nav">
  
    
    <a id="js-page__nav__prev" class="c-page__nav__prev" href="/notebooks/explore/spaghetti/Network_Usage">
       <span class="u-margin-right-tiny"></span> Network_Usage
    </a>
  

  
    
    <a id="js-page__nav__next" class="c-page__nav__next" href="/notebooks/explore/segregation/profile_wrappers_example">
      profile_wrappers_example <span class="u-margin-right-tiny"></span> 
    </a>
  
</nav>

            </div>
          </div>
        </div>
      </main>
    </div>

  </body>
</html>
